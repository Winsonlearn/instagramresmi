{# Avatar Component - Neon Theme #}
{# Usage: {% include 'components/common/avatar.html' %} #}

{% macro neon_avatar(src, alt='', size='md', online=False, verified=False, href=None, class='') %}
    {% set size_map = {
        'xs': 'w-6 h-6',
        'sm': 'w-8 h-8',
        'md': 'w-10 h-10',
        'lg': 'w-16 h-16',
        'xl': 'w-24 h-24'
    } %}
    
    {% set border_size = {
        'xs': 'border',
        'sm': 'border-2',
        'md': 'border-2',
        'lg': 'border-2',
        'xl': 'border-4'
    } %}
    
    <div class="avatar-neon relative inline-block {{ class }}">
        {% if href %}
            <a href="{{ href }}" class="block">
        {% endif %}
        
        <div class="relative {{ size_map.get(size, 'w-10 h-10') }} rounded-full overflow-hidden {{ border_size.get(size, 'border-2') }} border-neon-cyan glow-cyan hover:border-neon-pink hover:glow-pink transition-base hover-scale">
            <img 
                src="{{ src }}" 
                alt="{{ alt }}"
                class="w-full h-full object-cover"
                onerror="this.src='https://via.placeholder.com/100?text=User'"
            >
            {% if online %}
                <span class="absolute bottom-0 right-0 w-3 h-3 bg-neon-lime rounded-full border-2 border-dark-bg animate-pulse-glow-lime"></span>
            {% endif %}
        </div>
        
        {% if verified %}
            <div class="absolute -top-1 -right-1 w-5 h-5 bg-neon-cyan rounded-full flex items-center justify-center border-2 border-dark-bg">
                <svg class="w-3 h-3 text-dark-bg" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
            </div>
        {% endif %}
        
        {% if href %}
            </a>
        {% endif %}
    </div>
    
    <style>
        .avatar-neon img {
            transition: transform 0.3s ease;
        }
        
        .avatar-neon:hover img {
            transform: scale(1.1);
        }
    </style>
{% endmacro %}


