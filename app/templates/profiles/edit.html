{% extends "base.html" %}

{% block title %}Edit Profile - Instagram Clone{% endblock %}

{% block content %}
<div class="container" style="padding-top: 30px; max-width: 614px;">
    <div class="card">
        <div style="padding: 32px;">
            <h2 style="margin-bottom: 24px; text-align: center;">Edit Profile</h2>
            
            <form method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Profile Picture</label>
                    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 16px;">
                        <img src="{% if current_user.profile_picture and current_user.profile_picture != 'default_profile.png' %}{{ url_for('uploaded_file', folder='profiles', filename=current_user.profile_picture) }}{% else %}https://via.placeholder.com/80{% endif %}" 
                             alt="{{ current_user.username }}"
                             style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover;"
                             onerror="this.src='https://via.placeholder.com/80'">
                        <input type="file" name="profile_picture" accept="image/*" class="form-control">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" name="fullname" value="{{ current_user.fullname }}" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label>Bio</label>
                    <textarea name="bio" class="form-control" maxlength="150">{{ current_user.bio or '' }}</textarea>
                    <small style="color: #8e8e8e; font-size: 12px;">Max 150 characters</small>
                </div>
                
                <button type="submit" class="btn btn-primary form-submit">Submit</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

